"use strict";var _request=require("../../request/request.js"),_runtime=_interopRequireDefault(require("../../lib/runtime/runtime"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Page({data:{goodsData:{}},goodsInfo:{},onLoad:function(e){var t=e.goods_id;this.getGoodsDetail(t)},getGoodsDetail:function(t){var o;return _runtime.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_runtime.default.awrap((0,_request.request)({url:"/goods/detail",data:{goods_id:t}}));case 2:o=e.sent,this.goodsInfo=o,this.setData({goodsData:{goods_name:o.goods_name,goods_price:o.goods_price,goods_introduce:o.goods_introduce,pics:o.pics}});case 5:case"end":return e.stop()}},null,this)},handlePreviewImage:function(t){var o,s;return _runtime.default.async(function(e){for(;;)switch(e.prev=e.next){case 0:o=this.goodsInfo.pics.map(function(e){return e.pics_mid}),s=t.currentTarget.dataset.url,wx.previewImage({current:s,urls:o});case 3:case"end":return e.stop()}},null,this)},handleCartAdd:function(){var t=this,e=wx.getStorageSync("cart")||[],o=e.findIndex(function(e){return e.goods_id===t.goodsInfo.goods_id});-1===o?(this.goodsInfo.num=1,this.goodsInfo.checked=!0,e.push(this.goodsInfo)):e[o].num++,wx.setStorageSync("cart",e),wx.showToast({title:"加入成功",icon:"success",mask:!0})}});
//# sourceMappingURL=index.min.js.map
